<div class="page_header_container" ng-cloak>
    <div class="page_header">
        <div class="left page_action_container">
           
        </div>
        <div class="page_title">
            <h1><i class="fa fa-building-o"></i> Buildings</h1>
        </div>
        <div class="right page_action_container page_action_btn">
            
        </div>
    </div>
</div>
<div class="section_nav_container">
    <div class="section_nav">
        <a ng-href="#/buildings">Buildings List</a>
        <a ng-href="#/buildings/settings">List Settings</a>
        <a ng-href="#/buildings/reports" class="active">Reports</a>
    </div>
</div>
<div class="section">

    <!-- DMcQ: Todo: move this into style sheet when I get farther along -->
    <style>

        label {
            margin-right: 5px;
            color: #777;
        }

        .form-group{
            margin-left:20px;
        }

        /* This is a fix for a bug in bootstrap 3.1 (fixed in 3.2, but we're using 3.1 right now)

        */
        .input-group {
            display: inline-table;
            vertical-align: middle;
            .input-group-addon,
            .input-group-btn,
            .form-control {
                width: auto !important;
            }
        }

        .date-input{
            max-width: 250px;
        }

        .chart-holder {
            border-radius: .5em;
            background-color: #F6F6F6;
            border:1px solid #F6F6F6;
        }

        .section_content_container .section_content .content_block p {
            font-size: 13px;
        }

        #chartEnergyStar {
            height: 300px;
            width: 100%;
        }

        #chartSiteEUI {
            height: 300px;
            width: 100%;
        }

        .chart-holder {
            position:relative;
        }

        .loading-message {
            position:absolute;
            top:50%;
            left:50%;
            margin-left:-60px;
            text-align:center;
            width:120px;
            padding-top:10px;
            padding-bottom:10px;
            background-color: #FFF;
            border:1px solid #F1F1F1;
            border-radius: 5px;
        }


    </style>
   
    <div class="section_content_container">

        <div class="section_content ">
            
            <div class="content_block row" style="padding:20px">
               
                    <div class="container" style="width:100%; margin-bottom:20px;">
        
                        <div class="row">

                            <div class="col-md-2" >
                                <h2 style="font-size:18px;"><i class="fa fa-bar-chart pull-left"></i> Building Reports</h2>     
                            </div>

                            <div class="col-md-10" >                   

                                <form class="form-inline pull-right" role="form" style="padding:10px; border-radius:.5em; background-color:#F6F6F6;">

                                    <div class="form-group">                             
                                        <label  for="from-date">From date:</label>   
                                        <div class="input-group date-input"> 
                                            <input  id="from-date"
                                                    type="text"
                                                    class="form-control"
                                                    datepicker-popup="MM-dd-yyyy" 
                                                    is-open="startDatePickerOpen" 
                                                    ng-model="startDate"                        
                                                    />
                                            <span class="input-group-btn">
                                                <button type="button" 
                                                        class="btn btn-default" 
                                                        ng-click="openStartDatePicker($event)" ><i class="fa fa-calendar"></i></button>
                                            </span>
                                        </div>

                                    </div>

                                    <div class="form-group"> 
                                        <label for="to-date">To date:</label>   
                                        <div class="input-group date-input">
                                            <input  id="to-date"
                                                    type="text" 
                                                    class="form-control"
                                                    min-date="startDate" 
                                                    datepicker-popup="MM-dd-yyyy" 
                                                    is-open="endDatePickerOpen" 
                                                    ng-model="endDate"/>
                                            <span class="input-group-btn">
                                                <button type="button" 
                                                        class="btn btn-default" 
                                                        ng-click="openEndDatePicker($event)" ><i class="fa fa-calendar"></i></button>
                                            </span>
                                        </div>            
                                    </div>


                                    <div class="form-group">

                                        <label for="to-date">X Axis:</label>

                                        <dropdown is-button 
                                                  ng-model="xAxisSelectedItem" 
                                                  items="xAxisVars" >
                                        </dropdown>
                                        <!--
                                        <select ng-model="xAxisSelectedItem" 
                                                ng-init="xAxisSelectedItem=xAxisVars[0]" 
                                                ng-options="option.pickerName for option in xAxisVars" >
                                        </select>
                                        -->
                                    </div>

                                    <div class="form-group">
                                        <label for="to-date">Y Axis:</label>   

                                        <dropdown is-button 
                                                  ng-model="yAxisSelectedItem" 
                                                  items="yAxisVars" >
                                        </dropdown>

                                        <!--
                                        <select ng-model="yAxisSelectedItem" 
                                                ng-init="yAxisSelectedItem=yAxisVars[0]" 
                                                ng-options="option.pickerName for option in yAxisVars" >
                                        </select>
                                        -->
                                    </div>
                       
                                    <div class="form-group">

                                        <button type="submit" 
                                                class="btn btn-primary" 
                                                ng-click="updateChartData()">
                                                Update Charts
                                        </button>

                                    </div>

                                </form>

                            </div>
                         
                        </div>

                    </div>

                </div>

            </div>
         

            <div class="content_block row" style="padding:0px 20px;">

                <div class="col-md-6 col-sm-6">                  
                    <h4 class="chartTitle">{$ chart1Title $}</h3>       
                    <div class="chart-holder" style="height:600px" >                      
                        <basic-building-info-chart  id="chart" 
                                                    data="chartData" 
                                                    autoresize="true" 
                                                    chart-type="scatter"
                                                    height="600"
                                                    onchartrendered="chartRendered()"
                                                    >
                        </basic-building-info-chart>
                    </div>                    
                    <div ng-show="chartIsLoading" class="loading-message">Loading...</div>
                </div><!-- ./ col-md-6 -->


                <div class="col-md-6 col-sm-6">                   
                    <h4 class="chartTitle">{$ chart2Title $}</h3>                         
                    <div class="chart-holder" style="height:600px;">                       
                        <basic-building-info-chart  id="aggChart" 
                                                    data="aggChartData" 
                                                    autoresize="true" 
                                                    chart-type="bar"
                                                    height="600"
                                                    onchartrendered="aggChartRendered()"
                                                    >
                        </basic-building-info-chart>
                    </div>                    
                    <div ng-show="aggChartIsLoading" class="loading-message">Loading...</div>
                </div><!-- ./ col-md-6 -->

                <!--
                <div class="col-md-6 col-sm-6">  
                    <div id="chartEnergyStar" class="chart-holder">
                        Energy Star vs.  
                        <select ng-model="esChartSelectedItem" 
                                ng-init="esChartSelectedItem=esChartVars[0]" 
                                ng-options="item.name for item in esChartVars" 
                                ng-change="updateESChart(esChartSelectedItem)">
                        </select>
                        <graph  id="esChart" 
                                data="esChartData" 
                                width="100%" 
                                height="300px" 
                                transition="150" 
                                autoresize="true"     
                                yaxislabel="{$esChartYAxisLabel$}"  
                                onchartrendered="esChartRendered()"                         
                                >
                          <x field="x" type="Measure" title="Energy Star Score"></x>
                          <y field="y" type="Measure" ></y>
                          <scatter-plot field="x" series="y" label="Test" width="100%"></scatter-plot>
                        </graph>
                    </div>
                    <div ng-show="esChartIsLoading" class="loading-message">Loading...</div>
                </div> 
                -->
                <!-- ./ col-md-6 -->

            </div>  <!-- ./ content_block -->     



        </div>
    </div>
</div>

  
</div>